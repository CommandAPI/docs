### CommandAPI restructure

#### General module changes

For 11.0.0, the `commandapi-bukkit-xxx` modules have mostly been removed in favour of new platform specific modules that have been made for Paper or Spigot respectively:

- `commandapi-paper-xxx`
- `commandapi-spigot-xxx`

In order to update please replace your `commandapi-bukkit-xxx` dependency with either `commandapi-paper-xxx` or `commandapi-spigot-xxx`.

More dependency-related changes have taken place, here they all are listed:

```diff
commandapi-bukkit-xxx // [!code --]
commandapi-paper-xxx // [!code ++]
commandapi-spigot-xxx // [!code ++]

commandapi-core-kotlin // [!code --]
commandapi-kotlin-core // [!code ++]

commandapi-bukkit-kotlin // [!code --]
commandapi-kotlin-paper // [!code ++]
commandapi-kotlin-spigot // [!code ++]

commandapi-bukkit-test-toolkit // [!code --]
commandapi-paper-test-toolkit // [!code --]
commandapi-spigot-test-toolkit // [!code --]
```

:::danger **Developer's Note:**

The fact that Paper is a fork of Spigot does not mean that the Spigot modules work on Paper. Paper has, especially in newer versions, made changes to internal systems the CommandAPI
uses. There are no guarantees that the Spigot modules will work on Paper in any kind or form.

Similarly, if you try to use the Paper modules on Spigot you will face registration issues and potential `NoClassDefFoundError`s, depending on the server version you use.
There again is no guarantee for any kind of compatibility.

:::

#### Code changes

The `CommandAPIBukkitConfig` class has been converted into an abstract class and is no longer used to construct a config instance. Instead, use the new `CommandAPIPaperConfig` or `CommandAPISpigotConfig` classes, depending on the module you use. If you were using `CommandAPIVersionHandler#usePlatformImplementation` from the test toolkit, `MockCommandAPIBukkit` has been changed to `MockCommandAPIPaper` or `MockCommandAPISpigot`. See the new documentation for [that method](/test/load-mock-commandapi#loading-a-custom-command-api-platform-implementation) for details.

Further changes have been made to arguments that work with components. The classes `AdventureChatArgument`, `AdventureChatComponentArgument` and `AdventureChatColorArgument` have been
removed. Instead, the `ChatArgument`, `ChatComponentArgument` and `ChatColorArgument` have been implemented platform specific and return different types on Paper and Spigot.
On Paper, Adventure components are used while Spigot uses BungeeCord components.

**More argument changes have been made:**

- The `FloatRangeArgument` has been renamed to `DoubleRangeArgument` and now returns a `DoubleRange` object
- The `PlayerArgument` and `OfflinePlayerArgument` have been replaced by the `PlayerProfileArgument` which returns a `List<PlayerProfile>`. The `PlayerProfile` class changes depending on if you are on Paper or on Spigot. Use the `EntitySelectorArgument.OnePlayer` if you want a `Player` object.
- The `AsyncOfflinePlayerArgument` has been replaced by the `AsyncPlayerProfileArgument`
- The `ChatArgument`, `ChatComponentArgument` and `ChatColorArgument` do no longer have any `Adventure` prefixes and return different types depending on the platform.
- The `ChatArgument` returns a `SignedMessage` object on Paper
- The `BlockStateArgument` now returns a `BlockState` object instead of a `BlockData` object

#### Config changes

The `use-latest-nms-version` and `be-lenient-for-minor-versions` config options have been removed and have been replaced by the new `fallback-to-latest-nms` config option.
This config options combines the functionality of the former config options by first trying to load the correct version and if it can't find a matching implementation for the current version,
it, if set to `true`, will load the latest implementation.
On Paper it is set to `true` by default and on Spigot it is set to `false`.

Furthermore, any config options relating to reloading datapacks have been removed on Paper as they are not needed anymore.